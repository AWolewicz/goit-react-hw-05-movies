"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[653],{653:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var r=n(861),a=n(439),s=n(757),i=n.n(s),o=n(791),c=n(689),u=n(87),l={container:"Movies_container__sNK5N",form:"Movies_form__mp42q",input:"Movies_input__OE3ef",button:"Movies_button__hVjwG",buttonSubmit:"Movies_buttonSubmit__3+yql Movies_button__hVjwG",list:"Movies_list__JEO-P",pagination:"Movies_pagination__4Ir1j",buttonPage:"Movies_buttonPage__-sh5i Movies_button__hVjwG",info:"Movies_info__iD+-U",error:"Movies_error__ga8bx"},_=n(184),m=function(e){var t=e.handleFetching,n=(0,o.useState)(""),s=(0,a.Z)(n,2),m=s[0],h=s[1],p=(0,o.useState)([]),v=(0,a.Z)(p,2),f=v[0],d=v[1],b=(0,o.useState)(!1),x=(0,a.Z)(b,2),j=x[0],g=x[1],N=(0,o.useState)(1),k=(0,a.Z)(N,2),M=k[0],w=k[1],S=(0,o.useState)(!1),y=(0,a.Z)(S,2),Z=y[0],P=y[1],C=(0,c.s0)(),q=function(){var e=(0,r.Z)(i().mark((function e(n,r){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t("https://api.themoviedb.org/3/search/movie?query=".concat(n,"&include_adult=false&language=en-US&page=").concat(r));case 3:a=e.sent,d(a.results),g(!0),C("/movies",{replace:!0}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),P(!0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.currentTarget,r=n.elements.search.value,h(r),w(1),e.next=7,q(r,1);case 7:n.reset();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,_.jsx)("main",{className:l.main,children:(0,_.jsxs)("div",{className:l.container,children:[(0,_.jsxs)("form",{className:l.form,onSubmit:E,children:[(0,_.jsx)("input",{className:l.input,type:"text",name:"search"}),(0,_.jsx)("button",{className:l.buttonSubmit,type:"submit",children:"Search"})]}),j&&f&&(f.length>0?(0,_.jsxs)("div",{children:[(0,_.jsx)("ul",{className:l.list,children:f.map((function(e){return(0,_.jsx)("li",{children:(0,_.jsx)(u.rU,{className:l.link,to:"/movies/".concat(e.id),children:e.title})},e.id)}))}),(0,_.jsxs)("div",{className:l.pagination,children:[(0,_.jsx)("button",{className:l.buttonPage,onClick:function(){if(1!==M){var e=M-1;w(e),q(m,e)}},type:"button",children:"Back"}),(0,_.jsx)("button",{className:l.buttonPage,onClick:function(){var e=M+1;w(e),q(m,e)},type:"button",children:"Next"})]})]}):(0,_.jsx)("p",{className:l.info,children:"There are no matching results."})),(Z||!f)&&(0,_.jsx)("p",{className:l.error,children:"Error: Failed to get information from the server."})]})})}}}]);
//# sourceMappingURL=653.789f3cd5.chunk.js.map